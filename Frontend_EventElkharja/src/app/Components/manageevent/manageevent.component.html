<app-home-admin></app-home-admin>

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


<body>
<div class="container-xl">
	<div class="table-responsive">
		<div class="table-wrapper">
			<div class="table-title">
				<div class="row">
					<div class="col-sm-6">
						<h2  style="margin-right:150px;">Manage <b>Events</b></h2>
					</div>
                    <div class="col-sm-6">
                        <div class="search-box">
                            <div class="input-group">
                                <form class="row">
                                    <div class="col" style="margin-left: 250px;">
                                        <input type="text" id="search" class="form-control" placeholder="Festival,Worshop,Tripe" (ngModelChange)="SearchEvent(key.value)" #key="ngModel" ngModel name="key">
                                    </div>
                                   
                                </form>
                            </div>
                        </div>
                    </div>
                    

					
				</div>
			</div>
			<table class="table table-striped table-hover">
				<thead>
                    <tr>
            
                        <th>Image</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>capacity</th>
                        <th>Category</th>
                        <th>Place</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
				</thead>
				<tbody>
                    
					<tr *ngFor="let event of events">
                
                        <td>
                            <img [src]="prendrenomFile(event.image)" alt="Image du produit" style="max-width: 110px; max-height: 100px;">
                        </td>
                        <td class="ttdd">{{event.title}}</td>
                        <td class="ttdd">{{ event.description }}</td>
                        <td class="ttdd">{{ event.capacity }}</td>
                        <td class="ttdd">{{event.categorie }}</td>
                        <td class="ttdd">{{event.place }}</td>
                        <td class="ttdd">{{ event.price }}Dt</td>
                        
                        <td class="ttdd">
                            <i class="fa fa-trash" (click)="Delete(event.idEvent)"></i>
                            <i class="fa fa-edit" (click)="DisplayUpdate(event)" data-bs-toggle="modal" data-bs-target="#updateModal"></i>
            </td>
                    </tr>
					 
				</tbody>
			</table>
            
<div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Update Event</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form (ngSubmit)="UpdateEvent(updateForm)" #updateForm="ngForm" class="form-container mx-auto">
                <div class="form-group">
                    <label for="editedTitle" style="font-weight: bold; padding-right: 500px;">Titre</label>
                    <input style="background-color: hsl(0, 0%, 86%);" id="editedTitle" [(ngModel)]="editedEvent.title" name="titre" class="form-control" required>
                </div>
          
                <div class="form-group">
                    <label for="editedDescription" style="font-weight: bold; padding-right: 500px;">Description</label>
                    <textarea id="editedDescription" [(ngModel)]="editedEvent.description" style="background-color: hsl(0, 0%, 86%);" name="description" class="form-control" required></textarea>
                </div>
                <div class="form-group">
                    <label for="editedDescription" style="font-weight: bold; padding-right: 500px;"> startDate</label>
                    <textarea id="editedDescription" [(ngModel)]="editedEvent.startdate" style="background-color: hsl(0, 0%, 86%);" name="description" class="form-control" required></textarea>
                </div>
          
                <div class="form-group">
                    <label for="editedPrice" style="font-weight: bold; padding-right: 500px;">Price</label>
                    <input id="editedPrice" [(ngModel)]="editedEvent.price" name="prix" type="number" style="background-color: hsl(0, 0%, 86%);" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="editedPrice" style="font-weight: bold; padding-right: 500px;">Capacity</label>
                    <input id="editedPrice" [(ngModel)]="editedEvent.capacity" name="prix" type="number" style="background-color: hsl(0, 0%, 86%);" class="form-control" required>
                </div>
          
                <div class="form-group">
                    <label for="editedCategory" style="font-weight: bold; padding-right: 500px;">Place</label>
                    <input id="editedCategory" [(ngModel)]="editedEvent.place" name="nomcateg" style="background-color: hsl(0, 0%, 86%);" class="form-control" required>
                </div>
          
                <div class="form-group">
                    <label for="editedPhoto" style="font-weight: bold; padding-right: 500px;">Image</label>
                    
                    <input type="file" [(ngModel)]="editedEvent.image" id="editedPhoto" name="photo" class="form-control-file" accept="image/*" style="background-color: hsl(0, 0%, 88%);" class="form-control" >
              
                </div>
          
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" >Annuler</button>
                <button type="submit" class="btn btn-success" data-bs-dismiss="modal">Update</button>
            </form>        </div>
        <!-- <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div> -->
      </div>
    </div>
  </div> 


			
	    


</div>


